"use strict";

const Conf = require('conf');

const authConfig = new Conf({
  configName: 'auth',
  projectName: 'layer0'
});

const authTokenKey = apiUrl => `auth.${apiUrl}`;

exports.getApiKey = apiUrl => {
  return authConfig.get(authTokenKey(apiUrl));
};

exports.saveApiKey = (apiUrl, apiKey) => {
  return authConfig.set(authTokenKey(apiUrl), apiKey);
};

exports.getLastVersionCheck = () => {
  return authConfig.get('meta.lastVersionCheck');
};

exports.setLastVersionCheck = time => {
  return authConfig.set('meta.lastVersionCheck', time);
};