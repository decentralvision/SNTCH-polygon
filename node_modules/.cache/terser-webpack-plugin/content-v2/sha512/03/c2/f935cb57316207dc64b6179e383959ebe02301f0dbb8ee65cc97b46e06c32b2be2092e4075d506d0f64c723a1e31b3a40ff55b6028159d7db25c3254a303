{"code":"(this[\"webpackJsonpmagic-polygon\"]=this[\"webpackJsonpmagic-polygon\"]||[]).push([[0],{257:function(e,t){},283:function(e,t){},285:function(e,t){},361:function(e,t){},363:function(e,t){},373:function(e,t){},375:function(e,t){},400:function(e,t){},406:function(e,t){},419:function(e,t){},442:function(e,t){},520:function(e,t,n){},521:function(e,t,n){\"use strict\";n.r(t);var c=n(1),a=n(217),r=n(10),s=n(222),i=n(17),u=n.n(i),o=n(57),l=n(16),b=n(122),j=n(119),d=n.n(j),h=new b.a(\"pk_test_5E4043193D569716\",{network:{rpcUrl:\"https://rpc-mumbai.matic.today\",chainId:80001}});h.network=\"matic\";var f=new d.a(h.rpcProvider),p=new b.a(\"pk_test_5E4043193D569716\",{network:\"ropsten\"});p.network=\"ethereum\";var O=new d.a(p.rpcProvider),m=n(2);function x(){var e=Object(c.useState)(\"\"),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),i=Object(l.a)(s,2),b=i[0],j=i[1],d=Object(r.f)(),h=Object(c.useCallback)(Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,p.auth.loginWithMagicLink({email:n,redirectURI:new URL(\"/callback\",window.location.origin).href});case 4:d.push(\"/\"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),j(!1);case 10:case\"end\":return e.stop()}}),e,null,[[1,7]])}))),[n]),f=Object(c.useCallback)((function(e){a(e.target.value)}),[]);return Object(m.jsxs)(\"div\",{className:\"container\",children:[Object(m.jsx)(\"h1\",{children:\"Please sign up or login\"}),Object(m.jsx)(\"input\",{type:\"email\",name:\"email\",required:\"required\",placeholder:\"Enter your email\",onChange:f,disabled:b}),Object(m.jsx)(\"button\",{onClick:h,disabled:b,children:\"Send\"})]})}function g(){return Object(m.jsx)(\"div\",{className:\"container\",children:Object(m.jsx)(\"p\",{children:\"Loading...\"})})}function v(){var e=Object(r.f)();return Object(c.useEffect)((function(){p.auth.loginWithCredential().finally((function(){e.push(\"/\")}))}),[]),Object(m.jsx)(g,{})}function w(e){var t=e.network,n=e.user,a=e.fetchBalance,r=e.message,s=e.contract,i=e.fetchContractMessage,b=Object(c.useState)(\"\"),j=Object(l.a)(b,2),d=j[0],h=j[1],f=Object(c.useState)(!1),p=Object(l.a)(f,2),O=p[0],x=p[1],g=Object(c.useState)(),v=Object(l.a)(g,2),w=v[0],k=v[1],C=Object(c.useRef)(),y=function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt(\"return\");case 2:return T(),e.next=5,s.methods.update(d).send({from:n.publicAddress});case 5:t=e.sent,k(t.transactionHash),N();case 8:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){k(),x(!0),C.current.innerText=\"Submitted...\"},N=function(){x(!1),h(\"\"),a(n.publicAddress),i(),C.current.innerText=\"Update\"};return Object(m.jsxs)(\"div\",{className:\"container\",children:[Object(m.jsx)(\"h1\",{children:\"Contract Message\"}),Object(m.jsx)(\"div\",{className:\"info\",children:r}),Object(m.jsx)(\"h1\",{children:\"Update Message\"}),Object(m.jsx)(\"input\",{type:\"text\",disabled:O,value:d,onChange:function(e){return h(e.target.value)},className:\"full-width\",placeholder:\"New Message\"}),Object(m.jsx)(\"button\",{disabled:O,ref:C,onClick:y,children:\"Update\"}),w&&Object(m.jsxs)(\"div\",{className:\"info\",children:[Object(m.jsx)(\"a\",{href:\"ethereum\"===t?\"https://ropsten.etherscan.io/tx/\".concat(w):\"https://explorer-mumbai.maticvigil.com/tx/\".concat(w),target:\"_blank\",children:\"View Transaction\"}),\" \\u2197\\ufe0f\"]})]})}function k(e){var t=e.web3,n=e.network,a=e.publicAddress,r=e.fetchBalance,s=Object(c.useState)(\"\"),i=Object(l.a)(s,2),b=i[0],j=i[1],d=Object(c.useState)(\"\"),h=Object(l.a)(d,2),f=h[0],p=h[1],O=Object(c.useState)(!1),x=Object(l.a)(O,2),g=x[0],v=x[1],w=Object(c.useState)(),k=Object(l.a)(w,2),C=k[0],y=k[1],T=Object(c.useRef)(),N=function(){var e=Object(o.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&f){e.next=2;break}return e.abrupt(\"return\");case 2:return S(),e.next=5,t.eth.sendTransaction({from:a,to:b,value:t.utils.toWei(f)});case 5:n=e.sent,y(n.transactionHash),A();case 8:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){y(),v(!0),T.current.innerText=\"Submitted...\"},A=function(){v(!1),j(\"\"),p(\"\"),r(a),T.current.innerText=\"Send Transaction\"};return Object(m.jsxs)(\"div\",{className:\"container\",children:[Object(m.jsx)(\"h1\",{children:\"Send Transaction\"}),Object(m.jsx)(\"input\",{type:\"text\",disabled:g,value:b,onChange:function(e){return j(e.target.value)},className:\"full-width\",placeholder:\"To Address\"}),Object(m.jsx)(\"input\",{type:\"text\",disabled:g,value:f,onChange:function(e){return p(e.target.value)},className:\"full-width\",placeholder:\"Amount\"}),Object(m.jsx)(\"button\",{disabled:g,ref:T,onClick:N,children:\"Send Transaction\"}),C&&Object(m.jsxs)(\"div\",{className:\"info\",children:[Object(m.jsx)(\"a\",{href:\"ethereum\"===n?\"https://ropsten.etherscan.io/tx/\".concat(C):\"https://explorer-mumbai.maticvigil.com/tx/\".concat(C),target:\"_blank\",children:\"View Transaction\"}),\" \\u2197\\ufe0f\"]})]})}function C(e){var t=e.user,n=e.magic,a=e.handleChangeNetwork,s=e.balance,i=Object(r.f)(),u=Object(c.useCallback)((function(){n.user.logout().then((function(){i.push(\"/login\")}))}),[i]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(\"div\",{className:\"container\",children:[Object(m.jsxs)(\"h1\",{children:[\"Current user: \",t.email]}),Object(m.jsx)(\"button\",{onClick:u,children:\"Logout\"})]}),Object(m.jsxs)(\"div\",{className:\"container\",children:[Object(m.jsx)(\"h1\",{children:\"Network\"}),Object(m.jsx)(\"div\",{className:\"info\",children:Object(m.jsxs)(\"select\",{name:\"network\",onChange:function(e){return a(e)},children:[Object(m.jsx)(\"option\",{value:\"ethereum\",children:\"Ethereum (Ropsten Testnet)\"}),Object(m.jsx)(\"option\",{value:\"matic\",children:\"Matic (Mumbai Testnet)\"})]})}),Object(m.jsx)(\"h1\",{children:\"Public Address\"}),Object(m.jsx)(\"div\",{className:\"info\",children:t.publicAddress}),Object(m.jsx)(\"h1\",{children:\"Balance\"}),Object(m.jsxs)(\"div\",{className:\"info\",children:[s.toString().substring(0,6),\" \",\"matic\"===n.network?\"MATIC\":\"ETH\"]}),Object(m.jsx)(\"div\",{children:Object(m.jsx)(\"a\",{href:\"https://faucet.ropsten.be/\",target:\"_blank\",children:\"Get Test ETH\"})}),Object(m.jsx)(\"div\",{children:Object(m.jsx)(\"a\",{href:\"https://faucet.matic.network/\",target:\"_blank\",children:\"Get Test MATIC\"})})]})]})}var y=[{inputs:[],name:\"message\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"string\",name:\"newMessage\",type:\"string\"}],name:\"update\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"}];function T(){var e=Object(c.useState)(p),t=Object(l.a)(e,2),n=t[0],a=t[1],s=\"ethereum\"===n.network?O:f,i=Object(c.useState)(),u=Object(l.a)(i,2),o=u[0],b=u[1],j=Object(c.useState)(\"...\"),d=Object(l.a)(j,2),x=d[0],v=d[1],T=\"ethereum\"===n.network?\"ethereum\":\"matic\",N=new s.eth.Contract(y,\"ethereum\"===T?\"0x3EA3913A352cDd49889c7b0dEc8Dd9491d063453\":\"0xfD827cC6d5b959287D7e1680dBA587ffE5dFcbB4\"),S=Object(c.useState)(\"...\"),A=Object(l.a)(S,2),M=A[0],E=A[1],B=Object(r.f)();Object(c.useEffect)((function(){n.user.isLoggedIn().then((function(e){e?n.user.getMetadata().then((function(e){b(e),_(e.publicAddress),D()})):B.push(\"/login\")}))}),[n]);var _=function(e){s.eth.getBalance(e).then((function(e){return v(s.utils.fromWei(e))}))},D=function(){return N.methods.message().call().then(E)};return o?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(C,{handleChangeNetwork:function(e){\"ethereum\"===e.target.value?a(p):a(h),_(o.publicAddress),D()},balance:x,user:o,magic:n}),Object(m.jsx)(k,{web3:s,network:T,publicAddress:o.publicAddress,fetchBalance:_}),Object(m.jsx)(w,{network:T,contract:N,user:o,fetchBalance:_,message:M,fetchContractMessage:D})]}):Object(m.jsx)(g,{})}function N(){return Object(m.jsx)(s.a,{children:Object(m.jsx)(\"div\",{className:\"App\",children:Object(m.jsxs)(r.c,{children:[Object(m.jsx)(r.a,{path:\"/login\",exact:!0,component:x}),Object(m.jsx)(r.a,{path:\"/callback\",exact:!0,component:v}),Object(m.jsx)(r.a,{path:\"*\",exact:!0,component:T})]})})})}n(520);Object(a.render)(Object(m.jsx)(N,{}),document.getElementById(\"root\"))}},[[521,1,2]]]);","name":"static/js/main.88188894.chunk.js","map":{"version":3,"sources":["static/js/main.88188894.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_dom","react_router","react_router_dom","regenerator","regenerator_default","n","asyncToGenerator","slicedToArray","es","lib","lib_default","magicMatic","network","rpcUrl","chainId","maticWeb3","a","rpcProvider","magicEthereum","ethWeb3","jsx_runtime","Login","_useState","Object","_useState2","email","setEmail","_useState3","_useState4","isLoggingIn","setIsLoggingIn","history","login","mark","_callee","wrap","_context","prev","next","auth","loginWithMagicLink","redirectURI","URL","window","location","origin","href","t0","stop","handleInputOnChange","event","target","value","className","children","type","name","required","placeholder","onChange","disabled","onClick","Loading","Callback","loginWithCredential","finally","ContractCall","_ref","user","fetchBalance","message","contract","fetchContractMessage","newMessage","setNewMessage","setDisabled","_useState5","_useState6","txnHash","setTxnHash","updateBtnRef","updateContractMessage","_ref2","receipt","abrupt","disableForm","methods","update","send","from","publicAddress","sent","transactionHash","enableForm","apply","arguments","current","innerText","e","ref","concat","SendTransaction","web3","toAddress","setToAddress","amount","setAmount","_useState7","_useState8","sendTxBtnRef","sendTransaction","eth","to","utils","toWei","Info","magic","handleChangeNetwork","balance","logout","then","toString","substring","abi","inputs","outputs","internalType","stateMutability","Home","setMagic","userMetadata","setUserMetadata","setBalance","Contract","setMessage","isLoggedIn","magicIsLoggedIn","getMetadata","address","getBalance","bal","fromWei","call","App","path","exact","component","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpmagic-polygon\"] = this[\"webpackJsonpmagic-polygon\"] || []).push([[0],{\n\n/***/ 257:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 283:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 361:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 363:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 373:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 375:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 400:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 406:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 419:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 442:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 520:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 521:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(217);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(222);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(17);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(57);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/magic-sdk/dist/es/index.js + 29 modules\nvar es = __webpack_require__(122);\n\n// EXTERNAL MODULE: ./node_modules/web3/lib/index.js\nvar lib = __webpack_require__(119);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// CONCATENATED MODULE: ./src/magic.js\n/** \n * NOTE: when connecting to a testnet, TEST API keys must be used from the Magic dashboard (live API keys for eth mainnet)\n */var customNodeOptions={rpcUrl:'https://rpc-mumbai.matic.today',chainId:80001};// Setting network to Matic\nvar magicMatic=new es[\"a\" /* Magic */](\"pk_test_5E4043193D569716\",{network:customNodeOptions});magicMatic.network=\"matic\";var maticWeb3=new lib_default.a(magicMatic.rpcProvider);// Setting network to Ethereum (Ropsten Testnet)\nvar magicEthereum=new es[\"a\" /* Magic */](\"pk_test_5E4043193D569716\",{network:'ropsten'});magicEthereum.network=\"ethereum\";var ethWeb3=new lib_default.a(magicEthereum.rpcProvider);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/components/Login.js\nfunction Login(){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isLoggingIn=_useState4[0],setIsLoggingIn=_useState4[1];var history=Object(react_router[\"f\" /* useHistory */])();/**\n   * Perform login action via Magic's passwordless flow. Upon successuful\n   * completion of the login flow, a user is redirected to the homepage.\n   */var login=Object(react[\"useCallback\"])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoggingIn(true);_context.prev=1;_context.next=4;return magicEthereum.auth.loginWithMagicLink({email:email,redirectURI:new URL(\"/callback\",window.location.origin).href});case 4:history.push(\"/\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);setIsLoggingIn(false);case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);})),[email]);/**\n   * Saves the value of our email input into component state.\n   */var handleInputOnChange=Object(react[\"useCallback\"])(function(event){setEmail(event.target.value);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Please sign up or login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",name:\"email\",required:\"required\",placeholder:\"Enter your email\",onChange:handleInputOnChange,disabled:isLoggingIn}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:login,disabled:isLoggingIn,children:\"Send\"})]});}\n// CONCATENATED MODULE: ./src/components/Loading.js\nfunction Loading(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Loading...\"})});}\n// CONCATENATED MODULE: ./src/components/Callback.js\nfunction Callback(){var history=Object(react_router[\"f\" /* useHistory */])();Object(react[\"useEffect\"])(function(){// On mount, we try to login with a Magic credential in the URL query.\nmagicEthereum.auth.loginWithCredential().finally(function(){history.push(\"/\");});},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Loading,{});}\n// CONCATENATED MODULE: ./src/components/ContractCall.js\nfunction ContractCall(_ref){var network=_ref.network,user=_ref.user,fetchBalance=_ref.fetchBalance,message=_ref.message,contract=_ref.contract,fetchContractMessage=_ref.fetchContractMessage;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),newMessage=_useState2[0],setNewMessage=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),disabled=_useState4[0],setDisabled=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),txnHash=_useState6[0],setTxnHash=_useState6[1];var updateBtnRef=Object(react[\"useRef\"])();// Update contract `message` value on the blockchain\nvar updateContractMessage=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var receipt;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(newMessage){_context.next=2;break;}return _context.abrupt(\"return\");case 2:disableForm();_context.next=5;return contract.methods.update(newMessage).send({from:user.publicAddress});case 5:receipt=_context.sent;setTxnHash(receipt.transactionHash);enableForm();case 8:case\"end\":return _context.stop();}}},_callee);}));return function updateContractMessage(){return _ref2.apply(this,arguments);};}();// Disable input form while the transaction is being confirmed\nvar disableForm=function disableForm(){setTxnHash();// Clear link to previous transaction hash\nsetDisabled(true);updateBtnRef.current.innerText='Submitted...';};// Re-enable input form once the transaction is confirmed\nvar enableForm=function enableForm(){setDisabled(false);setNewMessage('');fetchBalance(user.publicAddress);fetchContractMessage();updateBtnRef.current.innerText='Update';};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Contract Message\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"info\",children:message}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Update Message\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",disabled:disabled,value:newMessage,onChange:function onChange(e){return setNewMessage(e.target.value);},className:\"full-width\",placeholder:\"New Message\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{disabled:disabled,ref:updateBtnRef,onClick:updateContractMessage,children:\"Update\"}),txnHash&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:network===\"ethereum\"?\"https://ropsten.etherscan.io/tx/\".concat(txnHash):\"https://explorer-mumbai.maticvigil.com/tx/\".concat(txnHash),target:\"_blank\",children:\"View Transaction\"}),\" \\u2197\\uFE0F\"]})]});}\n// CONCATENATED MODULE: ./src/components/SendTransaction.js\nfunction SendTransaction(_ref){var web3=_ref.web3,network=_ref.network,publicAddress=_ref.publicAddress,fetchBalance=_ref.fetchBalance;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),toAddress=_useState2[0],setToAddress=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),amount=_useState4[0],setAmount=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),disabled=_useState6[0],setDisabled=_useState6[1];var _useState7=Object(react[\"useState\"])(),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),txnHash=_useState8[0],setTxnHash=_useState8[1];var sendTxBtnRef=Object(react[\"useRef\"])();var sendTransaction=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var receipt;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!toAddress||!amount)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:disableForm();_context.next=5;return web3.eth.sendTransaction({from:publicAddress,to:toAddress,value:web3.utils.toWei(amount)});case 5:receipt=_context.sent;setTxnHash(receipt.transactionHash);enableForm();case 8:case\"end\":return _context.stop();}}},_callee);}));return function sendTransaction(){return _ref2.apply(this,arguments);};}();// Disable input form while the transaction is being confirmed\nvar disableForm=function disableForm(){setTxnHash();setDisabled(true);sendTxBtnRef.current.innerText='Submitted...';};// Re-enable input form once the transaction is confirmed\nvar enableForm=function enableForm(){setDisabled(false);setToAddress('');setAmount('');fetchBalance(publicAddress);sendTxBtnRef.current.innerText='Send Transaction';};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Send Transaction\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",disabled:disabled,value:toAddress,onChange:function onChange(e){return setToAddress(e.target.value);},className:\"full-width\",placeholder:\"To Address\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",disabled:disabled,value:amount,onChange:function onChange(e){return setAmount(e.target.value);},className:\"full-width\",placeholder:\"Amount\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{disabled:disabled,ref:sendTxBtnRef,onClick:sendTransaction,children:\"Send Transaction\"}),txnHash&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:network===\"ethereum\"?\"https://ropsten.etherscan.io/tx/\".concat(txnHash):\"https://explorer-mumbai.maticvigil.com/tx/\".concat(txnHash),target:\"_blank\",children:\"View Transaction\"}),\" \\u2197\\uFE0F\"]})]});}\n// CONCATENATED MODULE: ./src/components/Info.js\nfunction Info(_ref){var user=_ref.user,magic=_ref.magic,handleChangeNetwork=_ref.handleChangeNetwork,balance=_ref.balance;var history=Object(react_router[\"f\" /* useHistory */])();var logout=Object(react[\"useCallback\"])(function(){magic.user.logout().then(function(){history.push(\"/login\");});},[history]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[\"Current user: \",user.email]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:logout,children:\"Logout\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Network\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"info\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{name:\"network\",onChange:function onChange(e){return handleChangeNetwork(e);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"ethereum\",children:\"Ethereum (Ropsten Testnet)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"matic\",children:\"Matic (Mumbai Testnet)\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Public Address\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"info\",children:user.publicAddress}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Balance\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info\",children:[balance.toString().substring(0,6),\" \",magic.network==='matic'?'MATIC':'ETH']}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://faucet.ropsten.be/\",target:\"_blank\",children:\"Get Test ETH\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://faucet.matic.network/\",target:\"_blank\",children:\"Get Test MATIC\"})})]})]});}\n// CONCATENATED MODULE: ./src/contract/abi.js\nvar abi=[{\"inputs\":[],\"name\":\"message\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"newMessage\",\"type\":\"string\"}],\"name\":\"update\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];\n// CONCATENATED MODULE: ./src/components/Home.js\nfunction Home(){var _useState=Object(react[\"useState\"])(magicEthereum),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),magic=_useState2[0],setMagic=_useState2[1];var web3=magic.network===\"ethereum\"?ethWeb3:maticWeb3;var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),userMetadata=_useState4[0],setUserMetadata=_useState4[1];var _useState5=Object(react[\"useState\"])('...'),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),balance=_useState6[0],setBalance=_useState6[1];var network=magic.network===\"ethereum\"?'ethereum':'matic';var ropstenContractAddress='0x3EA3913A352cDd49889c7b0dEc8Dd9491d063453';var maticContractAddress='0xfD827cC6d5b959287D7e1680dBA587ffE5dFcbB4';var contract=new web3.eth.Contract(abi,network===\"ethereum\"?ropstenContractAddress:maticContractAddress);var _useState7=Object(react[\"useState\"])('...'),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var history=Object(react_router[\"f\" /* useHistory */])();Object(react[\"useEffect\"])(function(){// On mount, we check if a user is logged in.\n// If so, we'll retrieve the authenticated user's profile, balance and contract message.\nmagic.user.isLoggedIn().then(function(magicIsLoggedIn){if(magicIsLoggedIn){magic.user.getMetadata().then(function(user){setUserMetadata(user);fetchBalance(user.publicAddress);fetchContractMessage();});}else{// If no user is logged in, redirect to `/login`\nhistory.push(\"/login\");}});},[magic]);var handleChangeNetwork=function handleChangeNetwork(e){e.target.value==='ethereum'?setMagic(magicEthereum):setMagic(magicMatic);fetchBalance(userMetadata.publicAddress);fetchContractMessage();};var fetchBalance=function fetchBalance(address){web3.eth.getBalance(address).then(function(bal){return setBalance(web3.utils.fromWei(bal));});};var fetchContractMessage=function fetchContractMessage(){return contract.methods.message().call().then(setMessage);};return userMetadata?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Info,{handleChangeNetwork:handleChangeNetwork,balance:balance,user:userMetadata,magic:magic}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SendTransaction,{web3:web3,network:network,publicAddress:userMetadata.publicAddress,fetchBalance:fetchBalance}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContractCall,{network:network,contract:contract,user:userMetadata,fetchBalance:fetchBalance,message:message,fetchContractMessage:fetchContractMessage})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Loading,{});}\n// CONCATENATED MODULE: ./src/components/App.js\n// Views\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/login\",exact:true,component:Login}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/callback\",exact:true,component:Callback}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"*\",exact:true,component:Home})]})})});}\n// EXTERNAL MODULE: ./src/styles.css\nvar styles = __webpack_require__(520);\n\n// CONCATENATED MODULE: ./src/index.js\nObject(react_dom[\"render\"])(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App,{}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[521,1,2]]]);","inputSourceMap":{"version":3,"sources":["ignored /Users/tom/SNTCH-polygon/node_modules/bn.js/lib buffer","ignored /Users/tom/SNTCH-polygon/node_modules/stream-http/node_modules/readable-stream/lib util","ignored /Users/tom/SNTCH-polygon/node_modules/stream-http/node_modules/readable-stream/lib/internal/streams util","ignored /Users/tom/SNTCH-polygon/node_modules/readable-stream/lib util","ignored /Users/tom/SNTCH-polygon/node_modules/readable-stream/lib/internal/streams util","ignored /Users/tom/SNTCH-polygon/node_modules/stream-browserify/node_modules/readable-stream/lib util","ignored /Users/tom/SNTCH-polygon/node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams util","ignored /Users/tom/SNTCH-polygon/node_modules/brorand crypto","ignored /Users/tom/SNTCH-polygon/node_modules/browserify-rsa/node_modules/bn.js/lib buffer","ignored /Users/tom/SNTCH-polygon/node_modules/browserify-sign/node_modules/bn.js/lib buffer","ignored /Users/tom/SNTCH-polygon/node_modules/ethereumjs-util/node_modules/bn.js/lib buffer","/Users/tom/SNTCH-polygon/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/tom/SNTCH-polygon/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/tom/SNTCH-polygon/node_modules/postcss-loader/src/index.js??postcss!/Users/tom/SNTCH-polygon/src/styles.css","/Users/tom/SNTCH-polygon/src/magic.js","/Users/tom/SNTCH-polygon/src/components/Login.js","/Users/tom/SNTCH-polygon/src/components/Loading.js","/Users/tom/SNTCH-polygon/src/components/Callback.js","/Users/tom/SNTCH-polygon/src/components/ContractCall.js","/Users/tom/SNTCH-polygon/src/components/SendTransaction.js","/Users/tom/SNTCH-polygon/src/components/Info.js","/Users/tom/SNTCH-polygon/src/contract/abi.js","/Users/tom/SNTCH-polygon/src/components/Home.js","/Users/tom/SNTCH-polygon/src/components/App.js","/Users/tom/SNTCH-polygon/src/index.js"],"names":["customNodeOptions","rpcUrl","chainId","magicMatic","Magic","process","network","maticWeb3","Web3","rpcProvider","magicEthereum","ethWeb3","Login","useState","email","setEmail","isLoggingIn","setIsLoggingIn","history","useHistory","login","useCallback","auth","loginWithMagicLink","redirectURI","URL","window","location","origin","href","push","handleInputOnChange","event","target","value","Loading","Callback","useEffect","loginWithCredential","finally","ContractCall","user","fetchBalance","message","contract","fetchContractMessage","newMessage","setNewMessage","disabled","setDisabled","txnHash","setTxnHash","updateBtnRef","useRef","updateContractMessage","disableForm","methods","update","send","from","publicAddress","receipt","transactionHash","enableForm","current","innerText","e","SendTransaction","web3","toAddress","setToAddress","amount","setAmount","sendTxBtnRef","sendTransaction","eth","to","utils","toWei","Info","magic","handleChangeNetwork","balance","logout","then","toString","substring","abi","Home","setMagic","userMetadata","setUserMetadata","setBalance","ropstenContractAddress","maticContractAddress","Contract","setMessage","isLoggedIn","magicIsLoggedIn","getMetadata","address","getBalance","bal","fromWei","call","App","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","// extracted by mini-css-extract-plugin","import { Magic } from 'magic-sdk';\nimport Web3 from 'web3';\n\n/** \n * NOTE: when connecting to a testnet, TEST API keys must be used from the Magic dashboard (live API keys for eth mainnet)\n */\n\nconst customNodeOptions = {\n  rpcUrl: 'https://rpc-mumbai.matic.today',\n  chainId: 80001\n}\n\n// Setting network to Matic\nexport const magicMatic = new Magic(process.env.REACT_APP_MAGIC_PUBLISHABLE_KEY, { network: customNodeOptions });\nmagicMatic.network = \"matic\"\n\nexport const maticWeb3 = new Web3(magicMatic.rpcProvider);\n\n// Setting network to Ethereum (Ropsten Testnet)\nexport const magicEthereum = new Magic(process.env.REACT_APP_MAGIC_PUBLISHABLE_KEY, { network: 'ropsten' });\nmagicEthereum.network = \"ethereum\"\n\nexport const ethWeb3 = new Web3(magicEthereum.rpcProvider);","import React, { useCallback, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { magicEthereum } from \"../magic\";\n\nexport default function Login() {\n  const [email, setEmail] = useState(\"\");\n  const [isLoggingIn, setIsLoggingIn] = useState(false);\n  const history = useHistory();\n\n  /**\n   * Perform login action via Magic's passwordless flow. Upon successuful\n   * completion of the login flow, a user is redirected to the homepage.\n   */\n  const login = useCallback(async () => {    \n    setIsLoggingIn(true);\n\n    try {\n      await magicEthereum.auth.loginWithMagicLink({\n        email,\n        redirectURI: new URL(\"/callback\", window.location.origin).href,\n      });\n      history.push(\"/\");\n    } catch {\n      setIsLoggingIn(false);\n    }\n  }, [email]);\n\n  /**\n   * Saves the value of our email input into component state.\n   */\n  const handleInputOnChange = useCallback(event => {\n    setEmail(event.target.value);\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <h1>Please sign up or login</h1>\n      <input\n        type=\"email\"\n        name=\"email\"\n        required=\"required\"\n        placeholder=\"Enter your email\"\n        onChange={handleInputOnChange}\n        disabled={isLoggingIn}\n      />\n      <button onClick={login} disabled={isLoggingIn}>Send</button>\n    </div>\n  );\n}\n\n","import React from \"react\";\n\nexport default function Loading() {\n  return (\n    <div className=\"container\">\n      <p>Loading...</p>\n    </div>\n  );\n}\n\n","import React, { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { magicEthereum } from \"../magic\";\nimport Loading from \"./Loading\";\n\nexport default function Callback() {\n  const history = useHistory();\n\n  useEffect(() => {\n    // On mount, we try to login with a Magic credential in the URL query.\n    magicEthereum.auth.loginWithCredential().finally(() => {\n      history.push(\"/\");\n    });\n  }, []);\n\n  return <Loading />;\n}\n\n","import React, { useState, useRef } from \"react\";\n\nexport default function ContractCall({ network, user, fetchBalance, message, contract, fetchContractMessage }) {\n  const [newMessage, setNewMessage] = useState('');\n  const [disabled, setDisabled] = useState(false);\n  const [txnHash, setTxnHash] = useState();\n  const updateBtnRef = useRef();\n\n  // Update contract `message` value on the blockchain\n  const updateContractMessage = async () => {\n    if (!newMessage) return;\n    disableForm();\n    const receipt = await contract.methods.update(newMessage).send({ from: user.publicAddress });\n    setTxnHash(receipt.transactionHash);\n    enableForm();\n  }\n\n  // Disable input form while the transaction is being confirmed\n  const disableForm = () => {\n    setTxnHash(); // Clear link to previous transaction hash\n    setDisabled(true);\n    updateBtnRef.current.innerText = 'Submitted...';\n  }\n\n  // Re-enable input form once the transaction is confirmed\n  const enableForm = () => {\n    setDisabled(false);\n    setNewMessage('');\n    fetchBalance(user.publicAddress);\n    fetchContractMessage()\n    updateBtnRef.current.innerText = 'Update';\n  }\n\n\n  return (\n    <div className=\"container\">\n          <h1>Contract Message</h1>\n          <div className=\"info\">{message}</div>\n\n          <h1>Update Message</h1>\n          <input type=\"text\" disabled={disabled} value={newMessage} onChange={(e) => setNewMessage(e.target.value)} className=\"full-width\" placeholder=\"New Message\" />\n          <button disabled={disabled} ref={updateBtnRef} onClick={updateContractMessage}>Update</button>\n          {\n          txnHash &&\n            <div className=\"info\">\n              <a href={network === \"ethereum\" ? `https://ropsten.etherscan.io/tx/${txnHash}` : `https://explorer-mumbai.maticvigil.com/tx/${txnHash}`} target=\"_blank\">\n                View Transaction\n              </a> ↗️\n            </div>\n          }\n        </div>\n  )\n}","import React, { useState, useRef } from \"react\";\n\nexport default function SendTransaction({ web3, network, publicAddress, fetchBalance }) {\n  const [toAddress, setToAddress] = useState('');\n  const [amount, setAmount] = useState('');\n  const [disabled, setDisabled] = useState(false);\n  const [txnHash, setTxnHash] = useState();\n\n  const sendTxBtnRef = useRef();\n\n  const sendTransaction = async () => {\n    if (!toAddress || !amount) return;\n    disableForm()\n    const receipt = await web3.eth.sendTransaction({\n      from: publicAddress,\n      to: toAddress,\n      value: web3.utils.toWei(amount)\n    });\n    setTxnHash(receipt.transactionHash);\n    enableForm()\n  }\n\n   // Disable input form while the transaction is being confirmed\n   const disableForm = () => {\n    setTxnHash();\n    setDisabled(true);\n    sendTxBtnRef.current.innerText = 'Submitted...';\n  }\n\n  // Re-enable input form once the transaction is confirmed\n  const enableForm = () => {\n    setDisabled(false);\n    setToAddress('');\n    setAmount('');\n    fetchBalance(publicAddress);\n    sendTxBtnRef.current.innerText = 'Send Transaction';\n  }\n\n\n  return (\n    <div className=\"container\">\n          <h1>Send Transaction</h1>\n          <input type=\"text\" disabled={disabled} value={toAddress} onChange={(e) => setToAddress(e.target.value)} className=\"full-width\" placeholder=\"To Address\" />\n          <input type=\"text\" disabled={disabled} value={amount} onChange={(e) => setAmount(e.target.value)} className=\"full-width\" placeholder=\"Amount\" />\n          <button disabled={disabled} ref={sendTxBtnRef} onClick={sendTransaction}>Send Transaction</button>\n          {\n          txnHash &&\n            <div className=\"info\">\n              <a href={network === \"ethereum\" ? `https://ropsten.etherscan.io/tx/${txnHash}` : `https://explorer-mumbai.maticvigil.com/tx/${txnHash}`} target=\"_blank\">\n                View Transaction\n              </a> ↗️\n            </div>\n          }\n        </div>\n  )\n}","import React, { useCallback } from \"react\";\nimport { useHistory } from \"react-router\";\n\nexport default function Info({ user, magic, handleChangeNetwork, balance }) {\n  const history = useHistory();\n\n  const logout = useCallback(() => {\n    magic.user.logout().then(() => {\n      history.push(\"/login\");\n    })\n  }, [history]);\n\n  return (\n    <>\n      <div className=\"container\">\n          <h1>Current user: {user.email}</h1>\n          <button onClick={logout}>Logout</button>\n        </div>\n\n        <div className=\"container\">\n          <h1>Network</h1>\n          <div className=\"info\">\n            <select name=\"network\" onChange={(e) => handleChangeNetwork(e)}>\n              <option value=\"ethereum\">Ethereum (Ropsten Testnet)</option>\n              <option value=\"matic\">Matic (Mumbai Testnet)</option>\n            </select>\n          </div>\n          <h1>Public Address</h1>\n          <div className=\"info\">{user.publicAddress}</div>\n          <h1>Balance</h1>\n          <div className=\"info\">{balance.toString().substring(0, 6)} {magic.network === 'matic' ? 'MATIC' : 'ETH'}</div>\n          <div><a href=\"https://faucet.ropsten.be/\" target=\"_blank\">Get Test ETH</a></div>\n          <div><a href=\"https://faucet.matic.network/\" target=\"_blank\">Get Test MATIC</a></div>\n        </div>\n    </>\n  )\n}","export const abi = [\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"message\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"newMessage\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"update\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t}\n]","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { magicEthereum, magicMatic, ethWeb3, maticWeb3 } from \"../magic\";\nimport Loading from \"./Loading\";\nimport ContractCall from \"./ContractCall\";\nimport SendTransaction from './SendTransaction';\nimport Info from \"./Info\";\nimport { abi } from '../contract/abi.js';\n\nexport default function Home() {\n  const [magic, setMagic] = useState(magicEthereum);\n  const web3 = magic.network === \"ethereum\" ? ethWeb3 : maticWeb3;\n  const [userMetadata, setUserMetadata] = useState();\n  const [balance, setBalance] = useState('...');\n  const network = magic.network === \"ethereum\" ? 'ethereum' : 'matic';\n  const ropstenContractAddress = '0x3EA3913A352cDd49889c7b0dEc8Dd9491d063453';\n  const maticContractAddress = '0xfD827cC6d5b959287D7e1680dBA587ffE5dFcbB4';\n  const contract = new web3.eth.Contract(abi, network === \"ethereum\" ? ropstenContractAddress : maticContractAddress);\n  const [message, setMessage] = useState('...');\n  const history = useHistory();\n\n  useEffect(() => {\n    // On mount, we check if a user is logged in.\n    // If so, we'll retrieve the authenticated user's profile, balance and contract message.\n    magic.user.isLoggedIn().then(magicIsLoggedIn => {\n      if (magicIsLoggedIn) {\n        magic.user.getMetadata().then(user => {\n          setUserMetadata(user);\n          fetchBalance(user.publicAddress);\n          fetchContractMessage();\n        });\n      } else {\n        // If no user is logged in, redirect to `/login`\n        history.push(\"/login\");\n      }\n    });\n  }, [magic]);\n\n   const handleChangeNetwork = (e) => {\n    e.target.value === 'ethereum' ? setMagic(magicEthereum) : setMagic(magicMatic);\n    fetchBalance(userMetadata.publicAddress);\n    fetchContractMessage();\n  }\n\n  const fetchBalance = (address) => {\n    web3.eth.getBalance(address).then(bal => setBalance(web3.utils.fromWei(bal)))\n  }\n\n  const fetchContractMessage = () => contract.methods.message().call().then(setMessage)\n\n  return (\n    userMetadata ? (\n      <>\n        <Info handleChangeNetwork={handleChangeNetwork} balance={balance} user={userMetadata} magic={magic} />\n        <SendTransaction web3={web3} network={network} publicAddress={userMetadata.publicAddress} fetchBalance={fetchBalance} />\n        <ContractCall network={network} contract={contract} user={userMetadata} fetchBalance={fetchBalance} message={message} fetchContractMessage={fetchContractMessage} />  \n      </>\n    ) : <Loading />\n  );\n}\n\n","import React from \"react\";\nimport { Route, Switch } from \"react-router\";\nimport { BrowserRouter } from \"react-router-dom\";\n\n// Views\nimport Login from \"./Login\";\nimport Callback from \"./Callback\";\nimport Home from \"./Home\";\n\nexport default function App() {\n  return (\n    <BrowserRouter>\n      <div className=\"App\">\n      <Switch>\n          <Route path=\"/login\" exact component={Login} />\n          <Route path=\"/callback\" exact component={Callback} />\n          <Route path=\"*\" exact component={Home} />\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n}\n\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport App from \"./components/App\";\n\nimport \"./styles.css\";\n\nrender(<App />, document.getElementById(\"root\"));\n"]}}