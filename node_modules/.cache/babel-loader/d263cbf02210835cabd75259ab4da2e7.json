{"ast":null,"code":"var _jsxFileName = \"/Users/tom/SNTCH-polygon/src/components/SendTransaction.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SendTransaction({\n  web3,\n  network,\n  publicAddress,\n  fetchBalance\n}) {\n  _s();\n\n  const [toAddress, setToAddress] = useState('');\n  const [amount, setAmount] = useState('');\n  const [disabled, setDisabled] = useState(false);\n  const [txnHash, setTxnHash] = useState();\n  const sendTxBtnRef = useRef();\n\n  const sendTransaction = async () => {\n    if (!toAddress || !amount) return;\n    disableForm();\n    const receipt = await web3.eth.sendTransaction({\n      from: publicAddress,\n      to: toAddress,\n      value: web3.utils.toWei(amount)\n    });\n    setTxnHash(receipt.transactionHash);\n    enableForm();\n  }; // Disable input form while the transaction is being confirmed\n\n\n  const disableForm = () => {\n    setTxnHash();\n    setDisabled(true);\n    sendTxBtnRef.current.innerText = 'Submitted...';\n  }; // Re-enable input form once the transaction is confirmed\n\n\n  const enableForm = () => {\n    setDisabled(false);\n    setToAddress('');\n    setAmount('');\n    fetchBalance(publicAddress);\n    sendTxBtnRef.current.innerText = 'Send Transaction';\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Send Transaction\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      disabled: disabled,\n      value: toAddress,\n      onChange: e => setToAddress(e.target.value),\n      className: \"full-width\",\n      placeholder: \"To Address\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      disabled: disabled,\n      value: amount,\n      onChange: e => setAmount(e.target.value),\n      className: \"full-width\",\n      placeholder: \"Amount\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: disabled,\n      ref: sendTxBtnRef,\n      onClick: sendTransaction,\n      children: \"Send Transaction\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }, this), txnHash && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: network === \"ethereum\" ? `https://ropsten.etherscan.io/tx/${txnHash}` : `https://explorer-mumbai.maticvigil.com/tx/${txnHash}`,\n        target: \"_blank\",\n        children: \"View Transaction\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }, this), \" \\u2197\\uFE0F\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SendTransaction, \"OSusgH3BPhVc62sd6CbUNny+Q6g=\");\n\n_c = SendTransaction;\n\nvar _c;\n\n$RefreshReg$(_c, \"SendTransaction\");","map":{"version":3,"sources":["/Users/tom/SNTCH-polygon/src/components/SendTransaction.js"],"names":["React","useState","useRef","SendTransaction","web3","network","publicAddress","fetchBalance","toAddress","setToAddress","amount","setAmount","disabled","setDisabled","txnHash","setTxnHash","sendTxBtnRef","sendTransaction","disableForm","receipt","eth","from","to","value","utils","toWei","transactionHash","enableForm","current","innerText","e","target"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\n\nexport default function SendTransaction({ web3, network, publicAddress, fetchBalance }) {\n  const [toAddress, setToAddress] = useState('');\n  const [amount, setAmount] = useState('');\n  const [disabled, setDisabled] = useState(false);\n  const [txnHash, setTxnHash] = useState();\n\n  const sendTxBtnRef = useRef();\n\n  const sendTransaction = async () => {\n    if (!toAddress || !amount) return;\n    disableForm()\n    const receipt = await web3.eth.sendTransaction({\n      from: publicAddress,\n      to: toAddress,\n      value: web3.utils.toWei(amount)\n    });\n    setTxnHash(receipt.transactionHash);\n    enableForm()\n  }\n\n   // Disable input form while the transaction is being confirmed\n   const disableForm = () => {\n    setTxnHash();\n    setDisabled(true);\n    sendTxBtnRef.current.innerText = 'Submitted...';\n  }\n\n  // Re-enable input form once the transaction is confirmed\n  const enableForm = () => {\n    setDisabled(false);\n    setToAddress('');\n    setAmount('');\n    fetchBalance(publicAddress);\n    sendTxBtnRef.current.innerText = 'Send Transaction';\n  }\n\n\n  return (\n    <div className=\"container\">\n          <h1>Send Transaction</h1>\n          <input type=\"text\" disabled={disabled} value={toAddress} onChange={(e) => setToAddress(e.target.value)} className=\"full-width\" placeholder=\"To Address\" />\n          <input type=\"text\" disabled={disabled} value={amount} onChange={(e) => setAmount(e.target.value)} className=\"full-width\" placeholder=\"Amount\" />\n          <button disabled={disabled} ref={sendTxBtnRef} onClick={sendTransaction}>Send Transaction</button>\n          {\n          txnHash &&\n            <div className=\"info\">\n              <a href={network === \"ethereum\" ? `https://ropsten.etherscan.io/tx/${txnHash}` : `https://explorer-mumbai.maticvigil.com/tx/${txnHash}`} target=\"_blank\">\n                View Transaction\n              </a> ↗️\n            </div>\n          }\n        </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}